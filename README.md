# vscode-jte-extension

RPGツクールMZ用プラグイン `xksJsonTextEvent` の独自テキスト形式（JTE）を編集するためのVisual Studio Code拡張機能です。

## 概要
この拡張機能は、RPGツクールMZ用プラグイン `xksJsonTextEvent`の独自フォーマットである"JTE (Json Text Event)"の編集を支援します。以下の機能を提供します：

- **シンタックスハイライト**: 独自形式に対応したハイライトを提供。
- **補完機能**: JTE形式に適した補完候補を表示。
- **色々プレビュー**: `\C[番号]` の色や画像ファイルのプレビューを表示。
- **ブロックの可視化**: 各ブロックの番号表示／コマンド種類の色表示
- **コメントトグル**: ブロック単位でコメントアウトを簡単に切り替え可能。
- **カスタマイズ**: `.jte.config.json`によるカスタマイズ。

## インストール
1. [Visual Studio Code Marketplace](https://marketplace.visualstudio.com/) からインストールする
2. または、このリポジトリからダウンロードした `.vsix` ファイルを VSCode にドラッグ＆ドロップしてインストールする

## 使用方法

### JTEファイルの作成
1. `.jte` 拡張子のファイルを作成します。
2. ファイル内に内容を記述すると、自動でシンタックスハイライトや補完機能が有効になります。

### 主な機能

#### シンタックスハイライト
JTE形式に合わせたシンタックスハイライトを適用します。キーワードや特殊な制御文字（例: `\C[番号]`）が強調表示されます。

#### 補完機能
`"type":` や `\C[` などの箇所で補完候補が表示されます。

#### 色々プレビュー
`\C[番号]` の記述部分に色を表示したり、画像をプレビューしたりします。

#### コメントトグル
ブロック単位でコメントアウトをトグル可能です。
- キー割り当て: `Ctrl+/` （Windows/Linux） または `Cmd+/` （macOS）

#### ブロック番号表示
コードレンズを利用して、JSONブロックの先頭に番号を表示します。これにより、ブロックの管理が容易になります。

## 開発者向け情報
詳細なコードは [GitHub リポジトリ](https://github.com/xkslab/vscode-jte-extension) を参照してください。

### コード構成
- **`extension.ts`**: エントリーポイント。
- **`colorDecoration.ts`**: カラーデコレーション機能の実装。
- **`completion.ts`**: 補完機能の実装。
- **`countBlocks.ts`**: コードレンズによるブロックカウントの実装。
- **`toggleComment.ts`**: コメントトグル機能の実装。
- **`syntaxes/jte.tmLanguage.json`**: シンタックスハイライトの定義。

### テスト
開発中の拡張機能は、VS Codeのデバッグモードでテストできます。`F5` を押して新しいウィンドウを起動し、機能を確認してください。

## 貢献
バグ報告や機能リクエストは[Issues](https://github.com/xkslab/vscode-jte-extension/issues)で受け付けています。

## ライセンス
MIT License を採用しています。詳細は `LICENSE` ファイルをご確認ください。

## クレジット
この拡張機能は、[xks](https://github.com/xkslab) によって開発されました。
